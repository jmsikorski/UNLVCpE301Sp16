;
; DA2.asm
;
; Created: 3/9/2016 10:45:09 PM
; Author : jmsikorski
;

.INCLUDE "header.inc"
.ORG 0x00

	INITSTACK

	LDI		R18, 0xFF
	OUT		DDRB, R18
	OUT		DDRC, R18
	OUT		DDRD, R18
	LDI		R17, 0x00
	LDI		R16, 0x00
	LDI		R19, 0x00
	LDI		R21, 0x00
	LDI		R18, 0x60
	LDI		R20, 0x20
BEGIN:
	RCALL	DELAY
	SUBI	R17, -1
	SUBI	R19, -1
	OUT		PORTB, R17
	MOV		R16, R17
	LSR		R16
	LSR		R16
	ANDI	R16, 0x30
	CPI		R19, 5
	BRNE	NOT5
	EOR		R21, R20
NOT5:
	CPI		R19, 10
	BRNE	NOT10
	EOR		R21, R18
	LDI		R19, 0
NOT10:
	OUT		PORTC, R16
	OUT		PORTD, R21
	RJMP	BEGIN